# @hidoo/gulp-task-optimize-image

> Task that optimize image for gulp.

## Installation

```sh
$ npm install --save-dev gulp@next @hidoo/gulp-task-optimize-image
```

## Usage

```js
import {task} from 'gulp';
import optimizeImage from '@hidoo/gulp-task-optimize-image';

task('image', optimizeImage({
  src: '/path/to/images/*.{jpg,jpeg,gif,png,svg,ico}',
  dest: '/path/to/dest'
}));
```

## Supported formats

-   PNG
-   JPEG
-   GIF (Partical support)

    -   Alpha GIF and Animated GIF are not support.

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### optimizeImage

return image optimize task

#### Parameters

-   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** option (optional, default `{}`)
    -   `options.name` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** task name (use as displayName) (optional, default `'optimize:image'`)
    -   `options.src` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** source path
    -   `options.dest` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** destination path
    -   `options.evenize` **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** apply evenize or not (optional, default `false`)
    -   `options.compress` **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** compress file or not (optional, default `false`)
    -   `options.compressOptions` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)?** compress options.
          see: [DEFAULT_OPTIONS](./src/index.js).
          see: [gulp-imagemin](https://www.npmjs.com/package/gulp-imagemin)
    -   `options.verbose` **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** out log or not (optional, default `false`)

#### Examples

```javascript
import {task} from 'gulp';
import optimizeImage from '@hidoo/gulp-task-optimize-image';

task('image', optimizeImage({
  name: 'image:main',
  src: '/path/to/images/*.{jpg,jpeg,gif,png,svg,ico}',
  dest: '/path/to/dest',
  evenize: true,
  compress: true,
  compressOptions: [ // Default for this options
    imagemin.gifsicle({interlaced: true}),
    imagemin.jpegtran({progressive: true}),
    imagemin.optipng({optimizationLevel: 5}),
    imagemin.svgo()
  ],
  verbose: true
}));
```

Returns **[Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)&lt;[Stream](https://nodejs.org/api/stream.html)>** 

### gifsicle

gifsicle plugins for imagemin

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

#### Examples

```javascript
import {gifsicle} from '@hidoo/gulp-task-optimize-image';
```

### jpegtran

jpegtran plugins for imagemin

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

#### Examples

```javascript
import {jpegtran} from '@hidoo/gulp-task-optimize-image';
```

### optipng

optipng plugins for imagemin

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

#### Examples

```javascript
import {optipng} from '@hidoo/gulp-task-optimize-image';
```

### svgo

svgo plugins for imagemin

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

#### Examples

```javascript
import {svgo} from '@hidoo/gulp-task-optimize-image';
```

## Test

```sh
$ npm test
```

## License

MIT
